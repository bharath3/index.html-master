<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

   <link rel="stylesheet" href="http://115.119.117.86:8208/home/muraai/CSS/Cordys_min.css" type="text/css" />
       <link rel="stylesheet" href="/home/muraai/CSS/Structure_min.css" type="text/css" />
<script src="http://115.119.117.86:8208/home/muraai/JS/jQuery.js" type="text/javascript"></script>
<script src="http://115.119.117.86:8208/cordys/thirdparty/jquery/jquery.mobile.min.js" type="text/javascript"></script>
	<script src="http://115.119.117.86:8208/cordys/thirdparty/knockout/knockout.js" type="text/javascript"></script>
	<script src="http://115.119.117.86:8208/cordys/html5/cordys.html5sdk.js" type="text/javascript"></script>
<script src="http://115.119.117.86:8208/cordys/html5/plugins/cordys.authentication.js" type="text/javascript"></script>
<script src="http://115.119.117.86:8208/cordys/thirdparty/sha1/sha1.js" type="text/javascript"></script>
<script type="text/javascript">
var empModel;
			$(function() {



		// Create a new model
		empModel = new $.cordys.model({
			objectName: "Travel_Request", // Name of the Business Object
			context : document.body, // Where the data is bound to
			read: {
				// Settings for the read method
				namespace: "http://schemas.cordys.com/TravelDatabaseMetadata",
				dataType: "json",
				method: "GetTravel_RequestObjects",
				// Parameters for the method
				parameters: {
					cursor:{
						'@numRows':1
					},
					fromTR_ID: "!!!!!!!!!",
					toTR_ID: "zzzzzzzz",
					fromTRH_ORG: "!!!!!!!!!",
					toTRH_ORG: "zzzzzzz"					
				}
			}
		});

		// Call the read method. This would fire the method with the namespace and parameters as specified in the read settings above.
		//empModel.read();
$("#loginDialog").on('pageinit', function() {
					$("#btnLogin").bind("click", login);
				}).on('pageshow', function() {
					$("#inputName").focus();
				})
				.keydown(function (event) {
					if (event.keyCode == 13) { // Enter
						$("#btnLogin").trigger("click");
					}
				});

			
//$.cordys.authentication.login().done(function() { alert("loggedin") })
$.cordys.authentication.getUser().done(function(userObject){
        var userName = userObject.userName;
	document.getElementById("uname").innerHTML =userName.toUpperCase();
});
	});
function login()
{
	$.cordys.authentication.sso.authenticate($("#inputName").val(), $("#inputPassword").val()).done(function(){
alert
});
}
function call()
{
empModel.read();
}
function demo()
{
window.open("/home/muraai/request1.htm","_self");
}
function demo1()
{
window.open("/home/muraai/don.htm","_self");
}
function demo2()
{
window.open("/home/muraai/ApprovalRequests.htm","_self");
}
function demo3()
{
window.open("/home/muraai/graph1.htm","_self");
}
</script>
</head>
<body>
<div data-role="dialog" id="loginDialog">

		<div data-role="header" data-theme="b">
			<a href="http://www.cordys.com" data-icon="home">Cordys</a>
			<h1>Cordys Login</h1>
		</div>

		<div data-role="content">
			<label for="inputName">
				User Name
			</label>
			<input id="inputName" placeholder="" value="" type="text" />
			<label for="inputPassword">
				Password
			</label>
			<input id="inputPassword" placeholder="" value="" type="password" />
			<button id="btnLogin" type="submit" data-theme="b" data-bind="click:login">Login</button>
		</div>
		
		
	</div>
<div data-role="page" data-control-title="Home" data-theme="d" id="page1" style="background: url('/home/muraai/CSS/images/108444920.png') no-repeat">
    <div data-theme="a" data-role="header">
        <h2>TRAVEL PORTAL</h2>
<div align="right" id="uname">aaaaa</div>
    </div>
    <div role="main" class="ui-content" style="padding: 2%">
        <ul data-role="listview" data-divider-theme="b" data-inset="true" data-bind="foreach:Travel_Request">
            <li data-role="list-divider" role="heading" data-theme="c">SELECT</li>
            <li data-theme="c" data-bind="click:demo">
                <a href="/home/muraai/request1.htm" data-transition="flip">Request Form</a>
            </li>
            <li data-theme="c" data-bind="click:demo1">
                <a href="/home/muraai/don.htm" data-transition="flip">My Requests</a>
            </li>
            <li data-theme="c" data-bind="click:demo2">
                <a href="/home/muraai/ApprovalRequests.htm" data-transition="flip">Approval Form</a>
            </li>
            <li data-theme="c"  data-bind="click:demo3">
                <a href="/home/muraai/graph1.htm" data-transition="flip">Report</a>
            </li>
        </ul>
    </div>
    
</div>
</body>
</html>